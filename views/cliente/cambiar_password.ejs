<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cambiar Contraseña Cliente - AI Finance Solutions</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/stylesheets/generico.css">
</head>
<body>
    <div class="password-container">
        <h2>Cambiar Contraseña</h2>

        <% // Bloque para mostrar errores de validación (el array 'error') %>
        <% if (typeof error !== 'undefined' && Array.isArray(error) && error.length > 0) { %>
            <div class="error-message show">
                <ul>
                    <% error.forEach(function(msg) { %>
                        <li><%= msg %></li>
                    <% }); %>
                </ul>
            </div>
        <% } %>

        <% // Bloque para mostrar mensajes de éxito singular ('success_msg') %>
        <% if (typeof success_msg !== 'undefined' && success_msg && success_msg.length > 0) { %>
            <div class="success-message show">
                <p><%= success_msg %></p>
            </div>
        <% } %>

        <% // Bloque para mostrar mensajes de error singular ('error_msg') %>
        <% if (typeof error_msg !== 'undefined' && error_msg && error_msg.length > 0) { %>
            <div class="error-message show">
                <p><%= error_msg %></p>
            </div>
        <% } %>

        <form action="/cliente/cambiar_password" method="POST">
            <div class="form-group">
                <label for="currentPassword">Contraseña Actual</label>
                <input type="password" id="currentPassword" name="currentPassword" required>
            </div>
            <div class="form-group">
                <label for="newPassword">Nueva Contraseña</label>
                <input type="password" id="newPassword" name="newPassword" required>
            </div>
            <div class="form-group">
                <label for="confirmNewPassword">Confirmar Nueva Contraseña</label>
                <input type="password" id="confirmNewPassword" name="confirmNewPassword" required>
            </div>
            <div class="button-group">
                <button type="submit" class="save-button">Actualizar Contraseña</button>
            </div>
                <div class="button-group">
                <a href="/perfilasesor" class="cancel-button">Cancelar</a>
            </div>
        </form>
    </div>
</body>
</html>