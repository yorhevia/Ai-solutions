/* Estilos para el grid de asesores */
.asesores-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Responsivo */
    gap: 1.5rem; /* Espacio entre tarjetas */
    margin-top: 2rem;
}

/* Estilos para la tarjeta de asesor (reemplazo de .card) */
.asesor-card {
    background-color: #ffffff;
    border-radius: 1rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Sombra suave */
    padding: 1.5rem;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

.asesor-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.asesor-profile-img { /* Reemplazo de .card-img-top .profile-img */
    width: 120px;
    height: 120px;
    border-radius: 50%; /* Circular */
    object-fit: cover;
    margin: 0 auto 1rem auto; /* Centrar y dar espacio inferior */
    border: 3px solid #007bff; /* Borde con el color de tu navbar */
}

.asesor-card-body { /* Reemplazo de .card-body */
    padding: 0; /* Ya lo definimos en el contenedor de la tarjeta, así que lo reseteamos aquí */
}

.asesor-card-title { /* Reemplazo de .card-title */
    font-size: 1.5rem;
    font-weight: 700;
    color: #2d3748;
    margin-bottom: 0.5rem;
}

.asesor-card-text { /* Reemplazo de .card-text */
    font-size: 0.95rem;
    color: #4a5568;
    margin-bottom: 0.5rem;
}

.asesor-card-text strong {
    color: #2d3748;
}

.description-preview {
    font-style: italic;
    color: #6a6a6a;
    min-height: 40px; /* Mantiene la altura consistente */
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2; /* Limita a 2 líneas */
    -webkit-box-orient: vertical;
    margin-bottom: 1rem;
}

/* Ajustes a los botones dentro de las tarjetas (ahora usan custom-btn) */
.asesor-card .custom-btn {
    width: 100%; /* Ancho completo */
    margin-top: 0.75rem; /* Espacio entre botones */
}

/* Estilos para el mensaje "No hay asesores disponibles" */
.grid-full-width { /* Reemplazo de .col-12 */
    grid-column: 1 / -1; /* Ocupa todas las columnas disponibles en el grid */
    text-align: center;
}


/* Estilos para el modal personalizado (reemplazo de .modal, .modal-dialog, etc.) */
.custom-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7); /* Fondo oscuro semitransparente */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1050; /* Mayor que otros elementos de la página */
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.custom-modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

.custom-modal-dialog { /* Reemplazo de .modal-dialog */
    /* Estas propiedades ya no son necesarias aquí porque el flex se mueve al .custom-modal-content */
    /* display: flex; */
    /* align-items: center; */
    /* justify-content: center; */
    /* min-height: calc(100% - 1rem); */
    width: 90%; /* Ancho responsivo */
    max-width: 550px; /* Ancho máximo para el modal */
    /* Eliminamos transform y transition de aquí, los movemos al .custom-modal-content */
}

.custom-modal-content { /* Reemplazo de .modal-content */
    background-color: white;
    /* padding: 2.5rem;  <-- Este padding es grande y debe manejarse con el overflow */
    border-radius: 1rem;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3); /* Sombra más grande */
    max-width: 550px; /* Ancho máximo para el modal, redundante si ya está en dialog pero lo mantenemos */
    width: 90%; /* Ancho responsivo, redundante si ya está en dialog pero lo mantenemos */
    transform: translateY(-20px); /* Pequeño desplazamiento inicial */
    transition: transform 0.3s ease, opacity 0.3s ease; /* Transición para la animación */
    position: relative;

    /* --- CAMBIOS CLAVE AQUÍ --- */
    display: flex; /* Hacemos que el contenido sea un contenedor flex */
    flex-direction: column; /* Apilamos sus hijos (header, body, footer) verticalmente */
    max-height: 90vh; /* ¡IMPORTANTE! Limita la altura máxima del modal al 90% del viewport */
    overflow: hidden; /* Oculta cualquier desbordamiento para que el body interno maneje el scroll */
    padding: 0; /* ¡MUY IMPORTANTE! Quitamos el padding del content para que header, body, footer lo definan */
}

.custom-modal-overlay.active .custom-modal-content {
    transform: translateY(0); /* Vuelve a la posición original al aparecer */
    opacity: 1; /* Aseguramos que se vea al estar activo */
}

.custom-modal-close-btn { /* Reemplazo de .btn-close */
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 2rem; /* Tamaño de la 'x' */
    line-height: 1;
    cursor: pointer;
    color: #666;
    opacity: 0.7;
    transition: opacity 0.2s ease;
    z-index: 10; /* Asegura que la 'x' esté por encima del contenido */
}
.custom-modal-close-btn:hover {
    opacity: 1;
    color: #333;
}

.custom-modal-header { /* Reemplazo de .modal-header */
    text-align: center;
    margin-bottom: 0; /* Quitamos el margin-bottom para que no afecte el flexbox */
    padding: 1.5rem 2.5rem 1rem 2.5rem; /* Ajustamos padding para que sea parte del header */
    /* border-bottom: 1px solid #eee; /* Puedes añadir un borde si quieres */
    flex-shrink: 0; /* No se encoge, mantiene su altura */
}

.custom-modal-title { /* Reemplazo de .modal-title */
    font-size: 2rem;
    color: #2d3748;
    margin: 0;
}

.custom-modal-body { /* Reemplazo de .modal-body */
    padding: 1.5rem 2.5rem; /* Reincorporamos el padding que estaba en .custom-modal-content */
    flex-grow: 1; /* Permite que el cuerpo ocupe el espacio restante */
    overflow-y: auto; /* ¡AQUÍ ESTÁ LA CLAVE! Hace que el contenido interno sea desplazable */
    -webkit-overflow-scrolling: touch; /* Mejora el scroll en iOS */
}

.modal-profile-img { /* Reemplazo de .img-fluid .rounded-circle */
    width: 150px;
    height: 150px;
    border-radius: 50%;
    object-fit: cover;
    margin: 0 auto 1.5rem auto;
    border: 4px solid #007bff; /* Borde con el color de tu navbar */
}

.custom-modal-body p {
    font-size: 1.05rem;
    margin-bottom: 0.75rem;
    line-height: 1.5;
}

.custom-modal-body p strong {
    color: #2d3748;
    min-width: 100px; /* Para alinear el texto si es necesario */
    display: inline-block; /* Permite aplicar min-width */
}

.custom-modal-footer { /* Reemplazo de .modal-footer */
    display: flex;
    justify-content: flex-end;
    gap: 1rem; /* Espacio entre botones */
    margin-top: 0; /* Quitamos el margin-top para que no afecte el flexbox */
    padding: 1rem 2.5rem 1.5rem 2.5rem; /* Ajustamos padding para que sea parte del footer */
    /* border-top: 1px solid #eee; /* Puedes añadir un borde si quieres */
    flex-shrink: 0; /* No se encoge, mantiene su altura */
}

/* Media Queries para responsividad */
@media (max-width: 768px) {
    .asesores-grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }
}

@media (max-width: 576px) {
    .custom-container {
        padding-left: 0.75rem;
        padding-right: 0.75rem;
    }
    .page-title {
        font-size: 2rem;
    }
    .page-subtitle {
        font-size: 1rem;
    }
    .asesores-grid {
        grid-template-columns: 1fr; /* Una columna en móviles */
    }

    /* Modal responsivo en móvil */
    .custom-modal-content {
        padding: 0; /* Reestablecemos padding a 0 aquí también */
        width: 95%;
        max-height: 95vh; /* Aumentamos un poco el max-height para móviles */
    }
    .custom-modal-header,
    .custom-modal-footer {
        padding-left: 1.5rem; /* Ajustar padding lateral en móviles */
        padding-right: 1.5rem; /* Ajustar padding lateral en móviles */
    }
    .custom-modal-header {
        padding-top: 1rem; /* Ajustar padding superior en móviles */
        padding-bottom: 0.75rem; /* Ajustar padding inferior en móviles */
    }
    .custom-modal-footer {
        padding-top: 0.75rem; /* Ajustar padding superior en móviles */
        padding-bottom: 1rem; /* Ajustar padding inferior en móviles */
    }
    .custom-modal-title {
        font-size: 1.5rem;
    }
    .custom-modal-body {
        padding: 1.5rem; /* Ajustar padding del body en móviles */
    }
    .custom-modal-body p {
        font-size: 0.95rem;
    }
    .custom-modal-footer {
        flex-direction: column;
        gap: 0.75rem;
    }
    .custom-modal-footer .custom-btn {
        width: 100%;
    }
}